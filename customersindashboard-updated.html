<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VSV Easy Shop — Customers</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  <link rel="stylesheet" href="costomers (1).css" />
  <style>
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .stat-card {
      background: rgb(240, 239, 239);
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    .stat-card h3 {
      margin: 0;
      color: #4f46e5;
      font-size: 2rem;
    }
    .stat-card p {
      margin: 0.5rem 0 0 0;
      color: #666;
    }
    .controls {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    .search-box {
      flex: 1;
      min-width: 200px;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .filter-select {
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }
    .btn-primary {
      background: #4f46e5;
      color: white;
    }
    .btn-success {
      background: #10b981;
      color: white;
    }
    .btn-warning {
      background: #f59e0b;
      color: white;
    }
    .btn-danger {
      background: #ef4444;
      color: white;
    }
    .action-buttons {
      display: flex;
      gap: 0.5rem;
    }
    .pagination {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 1.5rem;
    }
    .pagination button {
      padding: 0.5rem 1rem;
      border: 1px solid #ddd;
      background: white;
      cursor: pointer;
    }
    .pagination button.active {
      background: #4f46e5;
      color: white;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
    }
    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      width: 95%;
      max-width: 450px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    .form-group {
      margin-bottom: 1rem;
    }
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    .form-group input, .form-group select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <header>
    <h1><i class="fa-solid fa-users"></i> Customers</h1>
    <nav>
      <a href="dashboard.html">Dashboard</a>
      <a href="order-confirmation.html">Orders</a>
      <a href="products.html">Products</a>
    </nav>
  </header>

  <main>
    <!-- Statistics Section -->
    <div class="stats-container">
      <div class="stat-card">
        <h3 id="totalCustomers">4</h3>
        <p>Total Customers</p>
      </div>
      <div class="stat-card">
        <h3 id="activeCustomers">3</h3>
        <p>Active Customers</p>
      </div>
      <div class="stat-card">
        <h3 id="totalRevenue">₹21,049</h3>
        <p>Total Revenue</p>
      </div>
      <div class="stat-card">
        <h3 id="avgOrderValue">₹5,262</h3>
        <p>Average Order Value</p>
      </div>
    </div>

    <!-- Controls Section -->
    <div class="controls">
      <input type="text" class="search-box" id="searchInput" placeholder="Search customers by name, email, or phone...">
      <select class="filter-select" id="statusFilter">
        <option value="">All Status</option>
        <option value="Active">Active</option>
        <option value="Inactive">Inactive</option>
      </select>
      <button class="btn btn-primary" onclick="addNewCustomer()">
        <i class="fas fa-plus"></i> Add Customer
      </button>
    </div>

    <!-- Customers Table -->
    <table id="customersTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Orders</th>
          <th>Mobile No</th>
          <th>Total Spent</th>
          <th>Last Order</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="customersTableBody">
        <tr data-customer-id="1">
          <td>Rohit Kumar</td>
          <td>rohit@email.com</td>
          <td>5</td>
          <td>9112180623</td>
          <td>₹8,200</td>
          <td>Aug 12, 2025</td>
          <td><span class="status st-active">Active</span></td>
          <td class="action-buttons">
            <button class="btn btn-warning btn-sm" onclick="editCustomer(1)">
              <i class="fas fa-edit"></i>
            </button>
            <button class="btn btn-danger btn-sm" onclick="deleteCustomer(1)">
              <i class="fas fa-trash"></i>
            </button>
            <button class="btn btn-success btn-sm" onclick="viewCustomer(1)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
        <tr data-customer-id="2">
          <td>Neha Sharma</td>
          <td>neha@email.com</td>
          <td>3</td>
          <td>8605180623</td>
          <td>₹4,500</td>
          <td>Aug 12, 2025</td>
          <td><span class="status st-active">Active</span></td>
          <td class="action-buttons">
            <button class="btn btn-warning btn-sm" onclick="editCustomer(2)">
              <i class="fas fa-edit"></i>
            </button>
            <button class="btn btn-danger btn-sm" onclick="deleteCustomer(2)">
              <i class="fas fa-trash"></i>
            </button>
            <button class="btn btn-success btn-sm" onclick="viewCustomer(2)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
        <tr data-customer-id="3">
          <td>Imran Shaikh</td>
          <td>imran@email.com</td>
          <td>2</td>
          <td>9087654567</td>
          <td>₹2,099</td>
          <td>Aug 11, 2025</td>
          <td><span class="status st-active">Active</span></td>
          <td class="action-buttons">
            <button class="btn btn-warning btn-sm" onclick="editCustomer(3)">
              <i class="fas fa-edit"></i>
            </button>
            <button class="btn btn-danger btn-sm" onclick="deleteCustomer(3)">
              <i class="fas fa-trash"></i>
            </button>
            <button class="btn btn-success btn-sm" onclick="viewCustomer(3)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
        <tr data-customer-id="4">
          <td>Pooja Patel</td>
          <td>pooja@email.com</td>
          <td>1</td>
          <td>9112647623</td>
          <td>₹6,250</td>
          <td>Aug 11, 2025</td>
          <td><span class="status st-inactive">Inactive</span></td>
          <td class="action-buttons">
            <button class="btn btn-warning btn-sm" onclick="editCustomer(4)">
              <i class="fas fa-edit"></i>
            </button>
            <button class="btn btn-danger btn-sm" onclick="deleteCustomer(4)">
              <i class="fas fa-trash"></i>
            </button>
            <button class="btn btn-success btn-sm" onclick="viewCustomer(4)">
              <i class="fas fa-eye"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div class="pagination">
      <button onclick="changePage(1)" class="active">1</button>
      <button onclick="changePage(2)">2</button>
      <button onclick="changePage(3)">3</button>
    </div>
  </main>

  <!-- Add/Edit Customer Modal -->
  <div id="customerModal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle">Add New Customer</h2>
      <form id="customerForm">
        <div class="form-group">
          <label for="customerName">Name</label>
          <input type="text" id="customerName" required>
        </div>
        <div class="form-group">
          <label for="customerEmail">Email</label>
          <input type="email" id="customerEmail" required>
        </div>
        <div class="form-group">
          <label for="customerPhone">Mobile No</label>
          <input type="tel" id="customerPhone" required>
        </div>
        <div class="form-group">
          <label for="amount">Total Spent</label>
          <input type="amount" id="totalSpent" required>
        </div>
        <div class="form-group">
          <label for="date">Last Order</label>
          <input type="date" id="lastOrder" required>
        </div>
        <div class="form-group">
          <label for="customerStatus">Status</label>
          <select id="customerStatus">
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>
        <div style="display: flex; gap: 1rem; justify-content: flex-end;">
          <button type="button" class="btn btn-danger" onclick="closeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Customer</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    let customers = [
      { id: 1, name: "Rohit Kumar", email: "rohit@email.com", orders: 5, phone: "9112180623", totalSpent: 8200, lastOrder: "Aug 12, 2025", status: "Active" },
      { id: 2, name: "Neha Sharma", email: "neha@email.com", orders: 3, phone: "8605180623", totalSpent: 4500, lastOrder: "Aug 12, 2025", status: "Active" },
      { id: 3, name: "Imran Shaikh", email: "imran@email.com", orders: 2, phone: "9087654567", totalSpent: 2099, lastOrder: "Aug 11, 2025", status: "Active" },
      { id: 4, name: "Pooja Patel", email: "pooja@email.com", orders: 1, phone: "9112647623", totalSpent: 6250, lastOrder: "Aug 11, 2025", status: "Inactive" }
    ];

    // Search functionality
    document.getElementById('searchInput').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      filterCustomers(searchTerm);
    });

    // Status filter
    document.getElementById('statusFilter').addEventListener('change', function(e) {
      const statusFilter = e.target.value;
      filterCustomers(document.getElementById('searchInput').value.toLowerCase(), statusFilter);
    });

    function filterCustomers(searchTerm = '', statusFilter = '') {
      const tbody = document.getElementById('customersTableBody');
      const rows = tbody.getElementsByTagName('tr');
      
      for (let row of rows) {
        const text = row.textContent.toLowerCase();
        const status = row.querySelector('.status').textContent;
        
        const matchesSearch = text.includes(searchTerm);
        const matchesStatus = !statusFilter || status === statusFilter;
        
        row.style.display = matchesSearch && matchesStatus ? '' : 'none';
      }
    }

    // Modal functionality
    function addNewCustomer() {
      document.getElementById('modalTitle').textContent = 'Add New Customer';
      document.getElementById('customerForm').reset();
      document.getElementById('customerModal').style.display = 'block';
    }

    function editCustomer(id) {
      const customer = customers.find(c => c.id === id);
      if (customer) {
        document.getElementById('modalTitle').textContent = 'Edit Customer';
        document.getElementById('customerName').value = customer.name;
        document.getElementById('customerEmail').value = customer.email;
        document.getElementById('customerPhone').value = customer.phone;
        document.getElementById('customerStatus').value = customer.status;
        document.getElementById('customerModal').style.display = 'block';
      }
    }

    function closeModal() {
      document.getElementById('customerModal').style.display = 'none';
    }

    function deleteCustomer(id) {
      if (confirm('Are you sure you want to delete this customer?')) {
        const row = document.querySelector(`tr[data-customer-id="${id}"]`);
        if (row) {
          row.remove();
          updateStatistics();
        }
      }
    }

    function viewCustomer(id) {
      const customer = customers.find(c => c.id === id);
      if (customer) {
        alert(`Customer Details:\n\nName: ${customer.name}\nEmail: ${customer.email}\nPhone: ${customer.phone}\nOrders: ${customer.orders}\nTotal Spent: ₹${customer.totalSpent}\nLast Order: ${customer.lastOrder}\nStatus: ${customer.status}`);
      }
    }

    function changePage(page) {
      // Simple pagination - in real app, this would load different data
      document.querySelectorAll('.pagination button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`.pagination button:nth-child(${page})`).classList.add('active');
    }

    function updateStatistics() {
      const visibleRows = Array.from(document.getElementById('customersTableBody').getElementsByTagName('tr'))
        .filter(row => row.style.display !== 'none');
      
      const totalCustomers = visibleRows.length;
      const activeCustomers = visibleRows.filter(row => 
        row.querySelector('.status').textContent === 'Active'
      ).length;
      
      let totalRevenue = 0;
      visibleRows.forEach(row => {
        const spentText = row.cells[4].textContent;
        const amount = parseInt(spentText.replace('₹', '').replace(',', ''));
        totalRevenue += amount;
      });
      
      const avgOrderValue = totalCustomers > 0 ? Math.round(totalRevenue / totalCustomers) : 0;
      
      document.getElementById('totalCustomers').textContent = totalCustomers;
      document.getElementById('activeCustomers').textContent = activeCustomers;
      document.getElementById('totalRevenue').textContent = '₹' + totalRevenue.toLocaleString();
      document.getElementById('avgOrderValue').textContent = '₹' + avgOrderValue.toLocaleString();
    }

    // Form submission handler for adding/editing customers
    document.getElementById('customerForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = document.getElementById('customerName').value;
      const email = document.getElementById('customerEmail').value;
      const phone = document.getElementById('customerPhone').value;
      const status = document.getElementById('customerStatus').value;
      
      // Generate new ID
      const newId = customers.length > 0 ? Math.max(...customers.map(c => c.id)) + 1 : 1;
      
      // Create new customer object
      const newCustomer = {
        id: newId,
        name: name,
        email: email,
        orders: 0,
        phone: phone,
        totalSpent: 0,
        lastOrder: 'N/A',
        status: status
      };
      
      // Add to customers array
      customers.push(newCustomer);
      
      // Add to table
      const tbody = document.getElementById('customersTableBody');
      const newRow = document.createElement('tr');
      newRow.setAttribute('data-customer-id', newId);
      newRow.innerHTML = `
        <td>${name}</td>
        <td>${email}</td>
        <td>0</td>
        <td>${phone}</td>
        <td>₹0</td>
        <td>N/A</td>
        <td><span class="status st-${status.toLowerCase()}">${status}</span></td>
        <td class="action-buttons">
          <button class="btn btn-warning btn-sm" onclick="editCustomer(${newId})">
            <i class="fas fa-edit"></i>
          </button>
          <button class="btn btn-danger btn-sm" onclick="deleteCustomer(${newId})">
            <i class="fas fa-trash"></i>
          </button>
          <button class="btn btn-success btn-sm" onclick="viewCustomer(${newId})">
            <i class="fas fa-eye"></i>
          </button>
        </td>
      `;
      tbody.appendChild(newRow);
      
      // Update statistics
      updateStatistics();
      
      // Close modal
      closeModal();
      
      // Show success message
      alert('Customer added successfully!');
    });
    </script>
    </body>
    </html>